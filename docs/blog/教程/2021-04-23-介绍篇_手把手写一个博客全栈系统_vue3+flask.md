---
title: 【介绍篇】手把手写一个博客全栈系统(vue3+flask)
date: 2021-04-23 14:21:40
permalink: /cookbook-for-full-stack-introduction/
cover: 
tags: 
- 教程
- 前端
- Flask
- Python
categories: 教程
---
这是一个系列文章，应该会对想要自己搭建博客的同学有所帮助。项目开源地址：（[博客：Meco](https://github.com/Xerrors/Meco)，[后台：Meco-MS](https://github.com/Xerrors/Meco-MS)，[后端：Meco-Server](https://github.com/Xerrors/Meco-Server)）

友情提醒：下面是一大段废话，看教程的话，直接跳到介绍部分

跟很多同学一样，第一个网站是使用 wordpress 搭建的，到处找好看的模板，但是臃肿的 wordpress 和网络的不畅让我逐渐放弃这个工具；后来就开始转战 markdown 的天下了，markdown 是一个非常适合用来写博客的工具（可以叫做工具吧？），之后也就使用 Hexo 来搭建网站，同样是不知道里面是怎么实现和部署的，很多简洁的主题以及可自定义插件，让我爱上了这个工具；可后来仅仅是可以发布文章还不能满足于自己的需求，还想要有一些更高级的自定义的内容；加之自己也有了一些 vue 的项目经验，vuepress 也刚好发布，一拍即合，随即使用 vuepress 搭建了自己的网站，自己自定义了一些功能和界面，满足了自己的使用需要，项目地址[Xerrors/Site](https://github.com/xerrors/site)，后来还加入了暗色模式，但是就像是尤大说的一样，每次更改都需要等很久很久的时间，使用起来非常不方便，所以之后也渐渐萌生了自己重写博客的想法，自己设计、自己开发，于是这个博客就应运而生了。

## 1. 简单介绍

项目的功能分为三个部分，博客网页、后台管理系统、后端数据支持；分别对应上面的三个仓库。

首先「博客网站」所实现的就是一个博客的基本功能，技术实现方面采用 Vue3.0 + Vuepress v2 + JavaScript 框架来搭建前端网站，实现具备自定义功能的博客网站。

> 虽说是 TypeScript，但是毕竟是小项目，也并没有严格的按照 TS 去写，几乎跟用 JS 没有区别。另外，在使用 vuepress v2 之前，我是使用 vitepress 搭建的，但是由于 vitepress 功能实在是太少了，最关键的是不支持 permalink 这对于一个想要从 vuepress 迁移到 vitepress 的人来说，是无法接受的。毕竟之前的很多链接都是使用 permalink 实现的，如果这个不支持了，那么之前分享出去的链接也就全部成为了死链。

其次「后台管理系统」是整个网站的「中控室」，相当于部分博客系统的管理员账户。后端部分的实现使用 Vue3.0 + vite + TypeScript 的技术，同时由于工程项目更多，所以也会使用到 vue-router 的路由管理机制。

最后「服务器后端部分」采用 Python 的 Flask 框架开发出简单易用的后端程序，因为整个项目在后端部分的任务不是很重，只是一些简单的数据处理工作，所以在实现的时候没有必要使用很负责的 Java 类后端，同时由于前后端的可分离性，本项目也采用 MVVM 模型，后端仅仅只是处理数据和执行脚本，在与前端部分的交互上面，使用 Restful Apis 进行数据传输；

## 2. 交互逻辑

介绍完三个项目的功能和主要技术之后，那么这三个独立的个体是如何协同工作的？如图所示，使用 Falsk 的后端是整个项目的数据中心，数据一般存储在 SQLite 驱动的数据库和一些 json 文件中，前端博客部分虽然是使用 vuepress 搭建的，但是为了更加方便的管理，博客中的部分数据是需要向服务器获取的；后台管理系统也是通过管理数据来实现对整个项目的管理。（说的有点乱，看图举几个例子）；

当普通访问者访问这个博客网站的时候，比如 `https://xerrors.fun/blogs/` ，此时会从浏览器像后端发送 http 数据请求，请求获取所有的文章列表；在服务器接收到 http 请求之后，向数据库中查找所有文章，并把文章的相关信息（如标题、链接、时间、标签以及分类等）发送给用户的浏览器，博客在收到数据之后对传来的数据进行渲染，这样访问者就能看到博客的所有文章并且可以点击文章链接进行查看。

再举一个例子，这次是管理员进入后台管理系统，首先要做的就是登录，浏览器发送登录请求到后端服务器，后端服务器经过验证之后，将凭证写入到 cookie 里面一起发送给管理系统；之后管理系统每一次向后端发送请求的时候，也都会将这个凭证一起发送给后端，后端服务器都要先检测是否有访问凭证；当后台管理系统修改了文章信息之后，后端服务器也相应对数据进行更改，此时前端博客再次访问的时候就会加载最新的数据了。

再再再举一个例子，当访客在访问博客网站的时候，感觉某篇文章写的还不错（比如这一篇，嘿嘿），就可以在下面点击「鼓励一下」或者「评论一下」进行点赞或者评论，这时候点赞和评论的请求就会发送到后端服务器上，服务器接收之后进行处理，生成消息信息保存到数据库里面。当管理员进入管理系统之后，管理系统会自动获取未读消息，就可以看到有可爱的朋友给自己点了个大大的赞！

## 3. 亮点功能

不同于其他的博客网站，一个有用的小功能就是可以爬取自己在其他平台发布的文章情况（如CSDN、掘金），后端爬虫会在每天凌晨 3 点 10 分（自定义）爬取我在 CSDN 和掘金平台发布的文章，同时将阅读量、点赞量、评论量等等保存到数据库里面，之后就可以在管理系统里面看到自己文章的数据表现啦~

关于网站的功能，一点点赘述也不是很明白，直接看图吧，前端博客页面可以直接点击 [这里](https://xerrors.fun) 来访问，后台管理页面如下图所示。

最后

目前阶段，这个项目已经具备一定的自定义功能，虽然达不到上手即用，但只要有一定的基础，简单改改就可以应用到自己的网站了，之后看有没有小伙伴喜欢，将自定义部分的配置提取出来。
